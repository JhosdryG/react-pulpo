!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("prop-types"),require("@fortawesome/react-fontawesome"),require("@fortawesome/free-solid-svg-icons"),require("styled-components")):"function"==typeof define&&define.amd?define(["exports","react","prop-types","@fortawesome/react-fontawesome","@fortawesome/free-solid-svg-icons","styled-components"],t):t((e=e||self).reactPulpo={},e.React,e["prop-types"],e["react-fontawesome"],e["free-solid-svg-icons"],e.styled)}(this,(function(e,t,n,r,o,i){"use strict";var u="default"in t?t.default:t;function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,l=e[Symbol.iterator]();!(r=(u=l.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n=n&&n.hasOwnProperty("default")?n.default:n,i=i&&i.hasOwnProperty("default")?i.default:i;var d=function(e){var n=e.data,r=e.properties,o=e.deleteRow,i=e.updateRow,l=e.onClickRow,c=s(t.useState(null),2),a=c[0],d=c[1],p=function(e,t){l&&(l(e),d(t))};return u.createElement("div",{className:"div-data-table"},u.createElement("table",{className:"data-table"},u.createElement("thead",null,u.createElement("tr",null,r.map((function(e){return"id"===e?null:u.createElement("th",{key:e},e)})),i&&u.createElement("td",null),o&&u.createElement("td",null))),u.createElement("tbody",null,n.map((function(e,t){return u.createElement(f,{key:e.id,row:e,index:t,current:t===a,deleteRow:o||null,updateRow:i||null,onClickRow:l?p:null})})))))};d.displayName="DataTable",d.propTypes={data:n.arrayOf(n.object).isRequired,properties:n.arrayOf(n.string).isRequired,deleteRow:n.func,updateRow:n.func,onClickRow:n.func};var f=u.memo((function(e){var t=e.row,n=e.deleteRow,i=e.updateRow,l=e.onClickRow,c=e.index,a=e.current;return u.createElement("tr",{className:a?"current-row":null},Object.keys(t).map((function(e,n){return"id"===e?null:u.createElement("td",{key:n,onClick:l?function(){return l(t.id,c)}:null},t[e])})),i&&u.createElement("td",{onClick:function(){return i(t.id)}},u.createElement(r.FontAwesomeIcon,{icon:o.faEdit,className:"update-icon"})),n&&u.createElement("td",{onClick:function(){return n(t.id)}},u.createElement(r.FontAwesomeIcon,{icon:o.faTimesCircle,className:"delete-icon"})))}),(function(e,t){var n=!0;return e.current===t.current&&(Object.keys(e.row).forEach((function(r){e.row[r]===t.row[r]||(n=!1)})),n)}));function p(){var e,t,n=(e=["\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  margin: ",";\n  width: ",";\n  font-family: ",";\n\n  & > [type='text'] {\n    box-sizing: border-box;\n    padding: ",";\n    font-size: ",";\n    color: ",";\n    width: 100%;\n    border: none;\n    border-top: ",";\n    border-left: ",";\n    border-bottom: ",";\n    border-right: ",";\n    outline: ",";\n    background-color: ",";\n    box-shadow: ",";\n    z-index: 2;\n    ",";\n\n    &::placeholder {\n      /* Chrome, Firefox, Opera, Safari 10.1+ */\n      color: ",";\n      opacity: 1; /* Firefox */\n    }\n\n    &:-ms-input-placeholder {\n      /* Internet Explorer 10-11 */\n      color: ",";\n    }\n\n    &::-ms-input-placeholder {\n      /* Microsoft Edge */\n      color: ",";\n    }\n  }\n\n  & .filter {\n    position: relative;\n    width: 100%;\n    box-sizing: border-box;\n\n    & > ul {\n      box-sizing: border-box;\n      position: absolute;\n      top: -20px;\n      left: 0;\n      width: 100%;\n      list-style: none;\n      margin: 0;\n      padding: 0;\n      max-height: 200px;\n      border: ",";\n      border-top: none;\n      border-radius: ",";\n      box-shadow: ",";\n      overflow: auto;\n      z-index: 1;\n      ",";\n\n      & > li {\n        box-sizing: border-box;\n        cursor: pointer;\n        padding: ",";\n        background-color: ",";\n        color: ",";\n        width: 100%;\n        ","\n\n        &:first-child {\n          padding-top: ","px;\n        }\n\n        &:last-child {\n          border-radius: ",";\n        }\n\n        &.current {\n          background-color: ",";\n          color: ",";\n          font-weight: ",";\n          font-size: ",";\n          ","\n        }\n      }\n\n      & > .no-match {\n        box-sizing: border-box;\n        width: 100%;\n        color: ",";\n        ","\n      }\n    }\n  }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return p=function(){return n},n}var y=i.div.attrs((function(e){var t=a({},e.style);return{style:a({},{divMargin:t.divMargin||"10px 10px 0 10px",divWidth:t.divWidth||"300px",divFont:t.divFont||"'Arial', Sans-Serif",divOthers:t.divOthers||"",inputPadding:t.inputPadding||"8px",inputFontSize:t.inputFontSize||"1rem",inputColor:t.inputColor||"rgb(60,60,60)",inputBorderTop:t.inputBorderTop||"none",inputBorderLeft:t.inputBorderLeft||"none",inputBorderBot:t.inputBorderBot||"3px solid #66d0dd",inputBorderRight:t.inputBorderRight||"none",inputOutline:t.inputOutline||"#66d0dd auto 3px",inputBackground:t.inputBackground||"fff",inputShadow:t.inputShadow||"0 0 5px rgba(0,0,0,.3)",inputPlaceHolder:t.inputPlaceHolder||"auto",inputOthers:t.inputOthers||"",listBorder:t.listBorder||"2px solid #66d0dd",listBorderRound:t.listBorderRound?"0 0 8px 8px":"0 0 0 0",listOthers:t.listOthers||"",itemPadding:t.itemPadding||"10px",itemBackground:t.itemBackground||"#fff",itemColor:t.itemColor||"rgb(60,60,60)",itemOthers:t.itemOthers||"",currentBackground:t.currentBackground||"#66d0dd",currentColor:t.currentColor||"#fff",currentFontWeight:t.currentFontWeight||"bold",currentFontSize:t.currentFontSize||"1.1rem",currentOthers:t.currentOthers||"",noMatchColor:t.noMatchColor||"rgb(180,180,180)",noMatchOthers:t.noMatchOthers||""})}}))(p(),(function(e){return e.style.divMargin}),(function(e){return e.style.divWidth}),(function(e){return e.style.divFont}),(function(e){return e.style.inputPadding}),(function(e){return e.style.inputFontSize}),(function(e){return e.style.inputColor}),(function(e){return e.style.inputBorderTop}),(function(e){return e.style.inputBorderLeft}),(function(e){return e.style.inputBorderBot}),(function(e){return e.style.inputBorderRight}),(function(e){return e.style.inputOutline}),(function(e){return e.style.inputBackground}),(function(e){return e.style.inputShadow}),(function(e){return e.style.inputOthers}),(function(e){return e.style.inputPlaceHolder}),(function(e){return e.style.inputPlaceHolder}),(function(e){return e.style.inputPlaceHolder}),(function(e){return e.style.listBorder}),(function(e){return e.style.listBorderRound}),(function(e){return e.style.inputShadow}),(function(e){return e.style.listOthers}),(function(e){return e.style.itemPadding}),(function(e){return e.style.itemBackground}),(function(e){return e.style.itemColor}),(function(e){return e.style.itemOthers}),(function(e){return parseInt(e.style.itemPadding.replace("px",""))+20}),(function(e){return e.style.listBorderRound}),(function(e){return e.style.currentBackground}),(function(e){return e.style.currentColor}),(function(e){return e.style.currentFontWeight}),(function(e){return e.style.currentFontSize}),(function(e){return e.style.currentOthers}),(function(e){return e.style.noMatchColor}),(function(e){return e.style.noMatchOthers})),m=u.forwardRef((function(e,n){var r=e.data,o=e.filter,i=e.ListComponent,l=e.onSelect,c=e.onChange,d=e.showAtOnce,f=e.placeholder,p=e.noMatchMessage,m=e.style,b=e.setOptions,h=e.disableFunc,g=s(t.useState(r),2),w=g[0],v=g[1],x=s(t.useState(0),2),O=x[0],k=x[1],C=s(t.useState(""),2),E=C[0],R=C[1],S=s(t.useState([]),2),B=S[0],P=S[1],j=s(t.useState(!1),2),F=j[0],z=j[1],M=t.useRef(null);t.useEffect((function(){if(h){var e=r.map((function(e){return a({},e,{disable:h(e)})}));v(e)}else v(r)}),[r,h]),t.useEffect((function(){b&&b({clean:function(){R(""),k(0),z(!1)}})}),[b]),t.useEffect((function(){if(!F){if(1===E.length&&" "===E.charAt(0))return void R("");var e=[];if(""===E&&d||""!==E){for(var t,n=/\W/gi,r="^".concat(E.toLowerCase().trim()),i=[];null!==(t=n.exec(E));)i.includes(t[0])||(r=r.replace(RegExp("\\".concat(t[0]),"gi"),"\\".concat(t[0])),i.push(t[0]));e=w.filter((function(e){return new RegExp(r).test(e[o].toLowerCase().trim())}))}P(e),M.current&&M.current.scroll(0,0)}}),[E,w,d,o,F]);var q=function(e){k(e)},N=function(e){T(O)},T=function(e){B[e]&&(B[e].disable||(l(B[e]),R(B[e][o]),P([]),k(0),z(!0)))};return u.createElement(y,{style:m},u.createElement("input",{type:"text",spellCheck:"false",placeholder:f,onKeyDown:function(e){38===e.keyCode?(e.preventDefault(),O>0&&(k((function(e){return e-1})),document.querySelector(".filter > ul > .current").scrollIntoView({block:"end",behavior:"smooth"}))):40===e.keyCode&&O<B.length-1&&(""!==E||d)&&!F?(e.preventDefault(),k((function(e){return e+1})),document.querySelector(".filter > ul > .current").scrollIntoView({block:"start",behavior:"smooth"})):32===e.keyCode?(0===E.length||E.endsWith(" "))&&e.preventDefault():13===e.keyCode&&T(O)},onChange:function(e){R(e.target.value),k(0),z(!1),c&&c()},value:E,ref:n}),(E.length>0||d)&&!F&&u.createElement("div",{className:"filter"},u.createElement("ul",{ref:M},!F&&B.map((function(e,t){return u.createElement(i,{key:t,index:t,current:O===t,data:e,onMouseEnter:q,onClick:N})})),0===B.length&&E.length>0&&!F&&u.createElement("li",{className:"no-match"},p))))}));m.displayName="SelectFilter",m.defaultProps={showAtOnce:!1,placeholder:"",noMatchMessage:"No se han encontrado resultados"},m.propTypes={data:n.arrayOf(n.object).isRequired,filter:n.string.isRequired,ListComponent:n.any.isRequired,onSelect:n.func.isRequired,onChange:n.func,showAtOnce:n.bool,placeholder:n.string,noMatchMessage:n.string,style:n.object,setOptions:n.func,disableFunc:n.func};var b=u.forwardRef((function(e,n){var r=e.maxNumber,o=void 0===r?100:r,i=e.minNumber,l=void 0===i?1:i,c=e.handleAccept,a=e.labelText,d=void 0===a?"Cantidad":a,f=e.buttonText,p=void 0===f?"Añadir":f,y=s(t.useState(!1),2),m=y[0],b=y[1],h=s(t.useState(""),2),g=h[0],w=h[1],v=t.useRef();return u.createElement("div",{className:"quantity-input"},u.createElement("label",{htmlFor:"quantity"},d,u.createElement("input",{type:"text",onKeyUp:function(e){13===e.keyCode&&m?v.current.focus():m||b(!0)},ref:n,onKeyDown:function(e){/\d/.test(e.key)?parseInt(e.target.value+e.key,10)<=o&&parseInt(e.target.value+e.key,10)>=l&&w(e.target.value+e.key):8===e.keyCode&&w((function(e){return e.substr(0,e.length-1)}))},value:g,onChange:function(){}})),u.createElement("button",{type:"button",onClick:function(){return c(parseInt(g))},ref:v,className:"quantity-input_button",disabled:""===g},p))}));b.displayName="QuantityInput",b.propTypes={minNumber:n.number,maxNumber:n.number,handleAccept:n.func.isRequired,labelText:n.string,buttonText:n.string},e.DataTable=d,e.QuantityInput=b,e.SelectFilter=m,Object.defineProperty(e,"__esModule",{value:!0})}));
